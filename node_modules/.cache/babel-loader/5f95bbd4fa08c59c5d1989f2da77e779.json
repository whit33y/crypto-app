{"ast":null,"code":"var _jsxFileName = \"/Users/kuba/Documents/react-project/crypto-app/src/auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { supabase } from \"./supabase\";\nimport { useState, useEffect, useContext, createContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authContext = /*#__PURE__*/createContext();\nexport const AuthProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const auth = useProvideAith();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 12\n  }, this);\n};\n\n_s(AuthProvider, \"Fa7gnysYgnhmgkw4x1A7M6+vgrs=\", false, function () {\n  return [useProvideAith];\n});\n\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAith() {\n  _s3();\n\n  const [user, setUser] = useState(null);\n\n  const Login = async () => {\n    const {\n      error,\n      user\n    } = await supabase.auth.signIn({\n      email\n    });\n\n    if (error) {\n      console.log(error);\n    }\n  };\n\n  const Logout = async () => {\n    const {\n      error\n    } = await supabase.auth.signOut();\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const user = supabase.auth.user();\n    setUser(user);\n    const auth = supabase.auth.onAuthStateChange((event, session) => {\n      if (event === 'SIGNED_IN') {\n        setUser(session.user);\n      }\n\n      if (event === 'SIGNED_OUT') {\n        setUser(null);\n      }\n    });\n    return () => auth.unsubscribe();\n  }, []);\n  return {\n    user,\n    login,\n    logout\n  };\n}\n\n_s3(useProvideAith, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["supabase","useState","useEffect","useContext","createContext","authContext","AuthProvider","children","auth","useProvideAith","useAuth","user","setUser","Login","error","signIn","email","console","log","Logout","signOut","onAuthStateChange","event","session","unsubscribe","login","logout"],"sources":["/Users/kuba/Documents/react-project/crypto-app/src/auth.js"],"sourcesContent":["import { supabase } from \"./supabase\"\nimport {useState, useEffect, useContext, createContext} from 'react'\n\nconst authContext = createContext()\n\nexport const AuthProvider = ({children}) =>{\n    const auth = useProvideAith()\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>\n}\n\nexport const useAuth = () =>{\n    return useContext(authContext)\n}\n\nfunction useProvideAith(){\n    const [user, setUser] = useState(null)\n    const Login = async() =>{\n        const {error, user} = await supabase.auth.signIn({email})\n        if(error){\n            console.log(error)\n        }\n        }\n    const Logout = async() =>{\n        const {error} = await supabase.auth.signOut()\n        setUser(null)\n    }\n    useEffect(()=>{\n        const user = supabase.auth.user()\n        setUser(user)\n        const auth = supabase.auth.onAuthStateChange((event, session)=>{\n            if(event === 'SIGNED_IN'){\n                setUser(session.user)\n            }\n            if(event === 'SIGNED_OUT'){\n                setUser(null)\n            }\n        })\n        return () => auth.unsubscribe()\n    },[])\n    return {\n        user,\n        login,\n        logout\n    }\n}"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,YAAzB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,UAA7B,EAAyCC,aAAzC,QAA6D,OAA7D;;AAEA,MAAMC,WAAW,gBAAGD,aAAa,EAAjC;AAEA,OAAO,MAAME,YAAY,GAAG,QAAe;EAAA;;EAAA,IAAd;IAACC;EAAD,CAAc;EACvC,MAAMC,IAAI,GAAGC,cAAc,EAA3B;EACA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAED,IAA7B;IAAA,UAAoCD;EAApC;IAAA;IAAA;IAAA;EAAA,QAAP;AACH,CAHM;;GAAMD,Y;UACIG,c;;;KADJH,Y;AAKb,OAAO,MAAMI,OAAO,GAAG,MAAK;EAAA;;EACxB,OAAOP,UAAU,CAACE,WAAD,CAAjB;AACH,CAFM;;IAAMK,O;;AAIb,SAASD,cAAT,GAAyB;EAAA;;EACrB,MAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC;;EACA,MAAMY,KAAK,GAAG,YAAU;IACpB,MAAM;MAACC,KAAD;MAAQH;IAAR,IAAgB,MAAMX,QAAQ,CAACQ,IAAT,CAAcO,MAAd,CAAqB;MAACC;IAAD,CAArB,CAA5B;;IACA,IAAGF,KAAH,EAAS;MACLG,OAAO,CAACC,GAAR,CAAYJ,KAAZ;IACH;EACA,CALL;;EAMA,MAAMK,MAAM,GAAG,YAAU;IACrB,MAAM;MAACL;IAAD,IAAU,MAAMd,QAAQ,CAACQ,IAAT,CAAcY,OAAd,EAAtB;IACAR,OAAO,CAAC,IAAD,CAAP;EACH,CAHD;;EAIAV,SAAS,CAAC,MAAI;IACV,MAAMS,IAAI,GAAGX,QAAQ,CAACQ,IAAT,CAAcG,IAAd,EAAb;IACAC,OAAO,CAACD,IAAD,CAAP;IACA,MAAMH,IAAI,GAAGR,QAAQ,CAACQ,IAAT,CAAca,iBAAd,CAAgC,CAACC,KAAD,EAAQC,OAAR,KAAkB;MAC3D,IAAGD,KAAK,KAAK,WAAb,EAAyB;QACrBV,OAAO,CAACW,OAAO,CAACZ,IAAT,CAAP;MACH;;MACD,IAAGW,KAAK,KAAK,YAAb,EAA0B;QACtBV,OAAO,CAAC,IAAD,CAAP;MACH;IACJ,CAPY,CAAb;IAQA,OAAO,MAAMJ,IAAI,CAACgB,WAAL,EAAb;EACH,CAZQ,EAYP,EAZO,CAAT;EAaA,OAAO;IACHb,IADG;IAEHc,KAFG;IAGHC;EAHG,CAAP;AAKH;;IA9BQjB,c"},"metadata":{},"sourceType":"module"}